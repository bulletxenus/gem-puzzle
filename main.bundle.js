(()=>{"use strict";var e={848:(e,t,n)=>{n.d(t,{Z:()=>f});var i=n(645),r=n.n(i),s=n(667),o=n.n(s),a=n(873),c=n(857),d=n(980),l=r()((function(e){return e[1]})),u=o()(a.Z),p=o()(c.Z),m=o()(d.Z);l.push([e.id,"*{box-sizing:border-box}body{padding:0;margin:0 auto;background-image:URL("+u+");background-size:cover;height:100%}.frame{position:relative;min-width:405px;width:100%;max-width:500px;height:510px;padding-top:0;border:1px solid #fff;border-radius:5px;margin:10% auto;overflow:hidden;background-image:URL("+p+');background-size:cover}.frame .winPage{font-family:"Reenie Beanie",cursive;color:#fff;position:absolute;top:0%;left:0;width:100%;height:100%;opacity:0;transition:.5s;background-color:rgba(0,0,0,.7)}.frame .winPage .congrat{position:absolute;height:30px;top:20%;left:10%;font-size:3em;transition:.5s}.frame .winPage .timeWin{font-size:2em;position:absolute;top:40%;left:40%}.frame .winPage .countWin{font-size:2em;position:absolute;top:50%;left:40%;transition:.5s}.frame .winPage .inputButton{position:absolute;top:70%;left:43%;width:15%;outline:none;transition:.25s;transition:.5s}.frame .winPage .inputButton:hover{transform:scale(1.1)}.frame .rulesPage{position:absolute;top:-100%;left:0%;font-size:.9em;color:#fff;background-color:rgba(0,0,0,.9);width:100%;height:510px;transition:.5s;display:flex;flex-direction:column;justify-content:center;align-items:center}.frame .scorePage{font-family:"Reenie Beanie",cursive;font-size:2em;width:100%;height:505px;position:absolute;background-color:rgba(0,0,0,.9);color:#fff;display:flex;flex-direction:column;align-items:center;justify-content:center;opacity:0;transition:.5s}.frame .musicOff{position:absolute;width:10%;bottom:1%;left:1%;opacity:.8;transition:.25s}.frame .musicOff:hover{transform:scale(1.2);opacity:1;transition:.25s}.frame .musicOn{position:absolute;width:10%;bottom:1%;left:1%;opacity:.8;transition:.25s}.frame .musicOn:hover{transform:scale(1.2);opacity:1;transition:.25s}.returnToMenu{width:10%;height:5%;position:absolute;right:2%;top:2%;z-index:10;transition:1s}.returnToMenu:hover{transform:rotate(-30deg);transition:1s}.menu{position:absolute;border:1px solid;width:99%;height:99%;top:-100%;left:.3%;transition:.5s;display:flex;flex-direction:column;align-items:center;justify-content:center}.menu .item{font-size:32px;font-family:"Reenie Beanie",cursive;margin:5%;color:#fff}.menu .item:hover{transform:scale(1.2);cursor:pointer}.settings{font-family:"Reenie Beanie",cursive;position:absolute;width:99%;height:99%;background:transparent;left:.3%;top:-100%;transition:.5s}.settings .typeSection{position:relative;border-bottom:1px solid #fff;width:100%;height:200px;display:flex}.settings .typeSection .headings{position:absolute;color:#fff;font-size:30px;font-weight:200;left:3%;top:10%;margin:0 auto}.settings .typeSection .typeOfDices{position:absolute;padding:1%;height:100px;width:30%;top:35%;left:10%;display:flex;flex-direction:column;align-items:center;justify-content:space-between;box-sizing:border-box;transition:.5s}.settings .typeSection .typeOfDices .typeName{color:#fff;font-size:1.5em}.settings .typeSection .typeOfDices .typeImage{min-width:70px;opacity:.8;width:60%;overflow:hidden}.settings .typeSection .typeOfDices .typeImageDices2{min-width:50px;width:80%;max-width:100px;min-height:60px}.settings .typeSection .typeOfDices:hover{transform:scale(1.1);transition:.5s}.settings .typeSection .typeOfDices2{left:60%;padding:1%}.settings .sizeSection{font-size:1.6em;position:relative;width:100%;height:250px;margin-top:3%;display:flex;flex-direction:column;align-items:center;justify-content:space-between}.settings .sizeSection .sizeName{color:#fff;margin-top:2%}.settings .sizeSection .sizeField{color:#fff;width:100px;height:10%;text-align:center;position:absolute;display:flex;justify-content:center;align-items:center}.settings .sizeSection .sizeField:hover{color:red;transform:scale(1.2);cursor:pointer}.settings .startButton{position:absolute;top:93%;left:36%;width:30%;height:6%;border-radius:20px;font-family:"Reenie Beanie",cursive;font-size:20px;font-weight:600;background-color:#fff;outline:none}.settings .startButton:hover{background-color:#cacaca}.settings .startButton:active,.settings .startButton:focus{outline:none;background-color:#fff}.settings .modalWindow{position:absolute;z-index:5;background-color:rgba(0,0,0,.9);width:30%;height:20%;top:69px;right:10%;transition:1s;display:flex;flex-direction:column;justify-content:center;align-items:center;opacity:0}.settings .modalWindow .header{color:#fff;font-size:3em;text-align:center;opacity:0;display:none;margin-bottom:0px;white-space:nowrap}.settings .modalWindow .frameSlider{margin:5% auto;width:90%;height:100%;display:flex;align-items:center;justify-content:space-around}.settings .modalWindow .frameSlider .leftArrow{height:20px;width:30px;opacity:0;display:none;margin-right:1%}.settings .modalWindow .frameSlider .leftArrow:hover{transform:scale(1.2);transition:.5s}.settings .modalWindow .frameSlider .rightArrow{height:20px;width:30px;opacity:0;display:none;margin-left:1%}.settings .modalWindow .frameSlider .rightArrow:hover{transform:scale(1.2);transition:.5s}.settings .modalWindow .frameSlider .currentPicture{width:100%;height:100%;margin:0 auto;margin-bottom:10%;display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.settings .modalWindow .frameSlider .currentPicture .imageSlider{width:100%;position:absolute;transition:.25s}.settings .modalWindow .exitButton{width:20%;height:30px;position:absolute;top:91%;left:25%;font-family:"Reenie Beanie",cursive;font-size:25px;display:flex;justify-content:center;align-items:center;border-radius:50px;background-color:#fff;transition:.25s;border:1px solid #fff;outline:none;opacity:0;display:none}.settings .modalWindow .exitButton:hover{background-color:red}.settings .modalWindow .confirmButton{width:20%;height:30px;position:absolute;top:91%;right:25%;font-family:"Reenie Beanie",cursive;font-size:20px;display:flex;justify-content:center;align-items:center;border-radius:50px;background-color:#fff;transition:.25s;border:1px solid #fff;outline:none;opacity:0;display:none}.settings .modalWindow .confirmButton:hover{background-color:red}.time{position:absolute;color:#fff;top:0%;left:5%;font-family:"Reenie Beanie",cursive;font-size:2em}.counter{position:absolute;color:#fff;top:0%;right:5%;font-family:"Reenie Beanie",cursive;font-size:2em}.gameMenuButton{position:absolute;top:1%;right:46%;width:8%;transition:.5s;border-radius:50px;padding:2px}.gameMenuButton:hover{border:1px solid #fff}.gameIsSaved{position:absolute;font-family:"Reenie Beanie",cursive;font-size:2em;z-index:10;color:#fff;text-shadow:3px 2px 0px rgba(255,0,0,.73);top:40%;left:0;width:100%;height:100px;background-color:rgba(0,0,0,.9);display:flex;justify-content:center;align-items:center;border:1px solid #fff;opacity:1;transition:.5s}.gameMenu{position:absolute;top:-100%;left:0;width:100%;height:500px;background-color:rgba(0,0,0,.85);font-family:"Reenie Beanie",cursive;font-size:32px;color:#fff;display:flex;flex-direction:column;justify-content:space-evenly;align-items:center;transition:.5s}.gameMenu .continGame:hover{transform:scale(1.1);color:red;cursor:pointer}.gameMenu .saveGame:hover{transform:scale(1.1);color:red;cursor:pointer}.gameMenu .newGame:hover{transform:scale(1.1);color:red;cursor:pointer}.gameMenu .mainMenu:hover{transform:scale(1.1);color:red;cursor:pointer}.gameMenu .rules:hover{transform:scale(1.1);color:red;cursor:pointer}.startPage{margin:.5% auto;width:100%;height:505px;border:3px solid #000;border-radius:10px;background-image:URL('+m+');position:relative;left:0%;opacity:1;transition:.25s}.startPage .startText{font-family:"Reenie Beanie",cursive;font-size:32px;position:absolute;bottom:5%;left:25%;opacity:1;transition:.25s;webkit-animation:startText 1.5s linear infinite;animation:startText 1.5s linear infinite}@-webkit-keyframes startText{0%{color:#000}50%{color:rgba(0,0,0,0)}100%{color:#000}}@keyframes startText{0%{color:#fff}50%{color:rgba(255,255,255,0)}100%{color:#fff}}.field15{margin:10% auto;border:1px solid #fff;width:400px;height:400px;position:relative;border-radius:0px}.field15 .ceil15{border:1px solid #000;border-radius:0px;width:25%;height:25%;position:absolute;font-size:35px;display:flex;justify-content:center;align-items:center;color:#fff;box-sizing:border-box;transition:.25s;background-color:rgba(53,35,71,.524)}.field8{margin:10% auto;border:1px solid #fff;width:402px;height:402px;position:relative;border-radius:0px;padding:1px}.field8 .ceil8{border:1px solid #000;border-radius:5px;width:33%;height:33%;position:absolute;font-size:35px;display:flex;justify-content:center;align-items:center;background-color:rgba(53,35,71,.524);color:#fff;box-sizing:border-box;transition:.25s;cursor:pointer}.field24{margin:10% auto;border:1px solid #fff;width:400px;height:400px;position:relative;border-radius:5px}.field24 .ceil24{border:1px solid #000;border-radius:5px;width:20%;height:20%;position:absolute;font-size:35px;display:flex;justify-content:center;align-items:center;background-color:rgba(53,35,71,.524);box-sizing:border-box;transition:.25s;color:rgba(255,255,255,.8)}.field35{margin:10% auto;border:1px solid #fff;width:400px;height:400px;position:relative;border-radius:5px}.field35 .ceil35{border:1px solid #000;border-radius:5px;width:16.7%;height:16.7%;position:absolute;font-size:35px;display:flex;justify-content:center;align-items:center;color:rgba(255,255,255,.7);background-color:rgba(53,35,71,.524);box-sizing:border-box;transition:.25s}.field48{margin:10% auto;border:1px solid #fff;width:400px;height:400px;position:relative;border-radius:3px}.field48 .ceil48{border:1px solid #000;border-radius:3px;width:14.285%;height:14.285%;position:absolute;font-size:30px;display:flex;justify-content:center;align-items:center;color:rgba(255,255,255,.7);background-color:rgba(53,35,71,.524);box-sizing:border-box;transition:.25s}.field63{margin:10% auto;border:1px solid #fff;width:400px;height:400px;position:relative;border-radius:2px}.field63 .ceil63{border:1px solid #000;border-radius:2px;width:12.5%;height:12.5%;position:absolute;font-size:25px;display:flex;justify-content:center;align-items:center;color:rgba(255,255,255,.6);background-color:rgba(53,35,71,.524);box-sizing:border-box;transition:.25s}.field3{margin:10% auto;border:1px solid #fff;width:401px;height:400px;min-width:320px;min-height:320px;position:relative;border-radius:2px}.field3 .ceil3{border:1px solid #000;border-radius:0px;width:50%;height:50%;position:absolute;font-size:35px;display:flex;justify-content:center;align-items:center;background-color:rgba(53,35,71,.524);box-sizing:border-box;transition:.25s;color:#fff}.canvas{margin:0;padding:0;border-radius:0px}',""]);const f=l},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,i){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(i)for(var s=0;s<this.length;s++){var o=this[s][0];null!=o&&(r[o]=!0)}for(var a=0;a<e.length;a++){var c=[].concat(e[a]);i&&r[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},667:e=>{e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},980:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/15.png"},873:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/back2.png"},857:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/metalic.jpg"},379:(e,t,n)=>{var i,r=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),s=[];function o(e){for(var t=-1,n=0;n<s.length;n++)if(s[n].identifier===e){t=n;break}return t}function a(e,t){for(var n={},i=[],r=0;r<e.length;r++){var a=e[r],c=t.base?a[0]+t.base:a[0],d=n[c]||0,l="".concat(c," ").concat(d);n[c]=d+1;var u=o(l),p={css:a[1],media:a[2],sourceMap:a[3]};-1!==u?(s[u].references++,s[u].updater(p)):s.push({identifier:l,updater:h(p,t),references:1}),i.push(l)}return i}function c(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0===i.nonce){var s=n.nc;s&&(i.nonce=s)}if(Object.keys(i).forEach((function(e){t.setAttribute(e,i[e])})),"function"==typeof e.insert)e.insert(t);else{var o=r(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}return t}var d,l=(d=[],function(e,t){return d[e]=t,d.filter(Boolean).join("\n")});function u(e,t,n,i){var r=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(e.styleSheet)e.styleSheet.cssText=l(t,r);else{var s=document.createTextNode(r),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(s,o[t]):e.appendChild(s)}}function p(e,t,n){var i=n.css,r=n.media,s=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),s&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var m=null,f=0;function h(e,t){var n,i,r;if(t.singleton){var s=f++;n=m||(m=c(t)),i=u.bind(null,n,s,!1),r=u.bind(null,n,s,!0)}else n=c(t),i=p.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i));var n=a(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var i=0;i<n.length;i++){var r=o(n[i]);s[r].references--}for(var c=a(e,t),d=0;d<n.length;d++){var l=o(n[d]);0===s[l].references&&(s[l].updater(),s.splice(l,1))}n=c}}}}},t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={id:i,exports:{}};return e[i](r,r.exports,n),r.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var i=t.getElementsByTagName("script");i.length&&(e=i[i.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),(()=>{function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var t=function(){function t(e,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.size=e,this.picture=n,this.type=i,this.sizeCeil=100,this.size2=this.size,this.empty={top:"",left:""},this.arrayStart={left:[],top:[]},this.currentArray={left:[],top:[]},this.winArray={left:[],top:[]},this.newArr=[],this.bestScore=[],this.count=0,this.sound=!1,this.timerMinutes=0,this.timerSeconds=0,this.paused=!1,this.statusGame={},this.isLoaded=!1,this.parts=[],this.checkArr=[],this.arr=[],this.arrayTop=[]}var n,i;return n=t,(i=[{key:"isSound",value:function(){return"musicOn"==document.getElementById("musicOnOff").className}},{key:"createField",value:function(){var e=this,t=document.querySelector(".frame"),n=document.createElement("div");if(n.classList.add("field".concat(this.size)),t.append(n),this.isLoaded){var i=document.querySelector(".menu");i.style.left="100%",setTimeout((function(){i.style.display="none",i.style.left="0%",i.style.top="-100%"}),1e3)}this.drawTimer(),this.drawCount(),this.drawGameMenuButton(),this.isLoaded||(this.empty.top=1/Math.sqrt(this.size+1)*(Math.sqrt(this.size+1)-1)*100+"%",this.empty.left=1/Math.sqrt(this.size+1)*(Math.sqrt(this.size+1)-1)*100+"%"),"pictures"===this.type?this.drawCeilsPic(n):this.drawCeil(n),n.addEventListener("click",(function(t){var n;n=t.target.classList.contains("canvas")?t.target.parentNode:t.target,(t.target.classList.contains("ceil".concat(e.size))||t.target.classList.contains("canvas"))&&e.move(n)}))}},{key:"drawCount",value:function(){var e=document.querySelector(".frame"),t=document.createElement("div");t.classList.add("counter"),t.innerText="Counts: ".concat(this.count),e.append(t)}},{key:"changeCount",value:function(){document.querySelector(".counter").innerText="Counts: ".concat(this.count)}},{key:"drawTimer",value:function(){var e=document.querySelector(".frame"),t=document.createElement("div");t.classList.add("time"),e.append(t),this.timerClock()}},{key:"timerClock",value:function(){var e=this,t=document.querySelector(".time");""!==this.paused&&(this.paused?(60==this.timerSeconds&&(this.timerSeconds=0),t.innerText="time: ".concat(this.addZero(this.timerMinutes),":").concat(this.addZero(this.timerSeconds)),setTimeout((function(){e.timerClock()}),1e3)):this.paused||(60==this.timerSeconds&&(this.timerMinutes++,this.timerSeconds=0),t.innerText="time: ".concat(this.addZero(this.timerMinutes),":").concat(this.addZero(this.timerSeconds)),this.timerSeconds++,setTimeout((function(){e.timerClock()}),1e3)))}},{key:"addZero",value:function(e){return 0<=e&&e<=9&&(e="0"+e),e}},{key:"drawGameMenuButton",value:function(){var e=this,t=document.querySelector(".frame"),n=document.createElement("img");n.src="./assets/gameMenu.png",n.classList.add("gameMenuButton"),t.append(n),n.addEventListener("click",(function(){e.isSound()&&e.playSound("menuSound"),e.drawGameMenu(),n.style.transform="rotate(-90deg)",setTimeout((function(){document.querySelector(".gameMenu").style.top="0%"})),e.paused=!0}))}},{key:"drawGameMenu",value:function(){var e=this,t=document.createElement("div");t.classList.add("gameMenu"),document.querySelector(".frame").append(t);var n=document.querySelector(".time"),i=document.querySelector(".counter"),r=document.querySelector(".gameMenuButton"),s=document.querySelector(".field".concat(this.size)),o=document.querySelector(".menu"),a=document.createElement("div"),c=document.createElement("div"),d=document.createElement("div"),l=document.createElement("div"),u=document.createElement("div");a.classList.add("continGame"),c.classList.add("saveGame"),d.classList.add("newGame"),l.classList.add("mainMenu"),u.classList.add("rules"),a.innerText="Continue game",c.innerText="Save game",d.innerText="New game",l.innerText="Main menu",u.innerText="Rules",t.append(a),t.append(c),t.append(d),t.append(l),t.append(u),a.addEventListener("click",(function(){t.style.left="100%",e.isSound()&&e.playSound("menuSound"),document.querySelector(".gameMenuButton").style.transform="rotate(0deg)",e.paused=!1,setTimeout((function(){t.remove()}),500)})),u.addEventListener("click",(function(){e.isSound()&&e.playSound("menuSound"),e.drawRules()})),c.addEventListener("click",(function(){e.isSound()&&e.playSound("menuSound2"),e.savingGame()})),l.addEventListener("click",(function(){e.isSound()&&e.playSound("menuSound2"),s.style.left="100%",t.style.left="100%",r.style.left="100%",n.style.left="100%",i.style.left="100%",o.style.top="-100%",o.style.display="flex",o.style.left="0%",e.paused="",setTimeout((function(){o.style.top="0%",setTimeout((function(){s.remove(),t.remove(),r.remove(),n.remove(),i.remove(),r.remove()}),500)}))})),d.addEventListener("click",(function(){e.isSound()&&e.playSound("menuSound2"),t.style.left="100%",s.style.left="100%",r.style.left="100%",n.style.left="100%",i.style.left="100%",e.paused="",setTimeout((function(){s.remove(),t.remove(),r.remove(),n.remove(),i.remove(),e.updateProperties()}),1e3)}))}},{key:"updateProperties",value:function(){this.timerSeconds=0,this.timerMinutes=0,console.log(this),this.empty={top:"",left:""},this.arrayStart={left:[],top:[]},this.currentArray={left:[],top:[]},this.winArray={left:[],top:[]},this.bestScore=[],this.count=0,this.timerMinutes=0,this.timerSeconds=0,this.paused=!1,this.statusGame={},this.isLoaded=!1,this.parts=[],this.checkArr=[],this.arr=[],this.arrayTop=[],this.createField()}},{key:"drawCeil",value:function(e){for(var t=0;t<this.size;t++){var n=document.createElement("div");if(n.classList.add("ceil".concat(this.size)),n.innerHTML=t+1,this.isLoaded){var i=this.currentArray.left[t],r=this.currentArray.top[t];n.style.left=i,n.style.top=r}else r=(t-(i=t%Math.sqrt(this.size+1)))/Math.sqrt(this.size+1),n.style.left=i*(1/Math.sqrt(this.size+1)*100)+"%",n.style.top=r*(1/Math.sqrt(this.size+1)*100)+"%";this.arr.push(n),e.append(n),n.setAttribute("draggable","true"),this.isLoaded||(this.arrayStart.left[t]=n.style.left,this.arrayStart.top[t]=n.style.top)}this.dragNDrop(),this.isLoaded||this.startGame()}},{key:"dragNDrop",value:function(){var e=this,t=document.querySelector(".field".concat(this.size)),n=document.querySelector(".ceil".concat(this.size));t.addEventListener("drag",(function(){n.style.opacity="0"}),!1),t.addEventListener("dragstart",(function(e){n=e.target,e.target.style.opacity=.5}),!1),t.addEventListener("dragend",(function(e){e.target.style.opacity=""}),!1),t.addEventListener("dragover",(function(e){e.preventDefault()}),!1),t.addEventListener("dragenter",(function(t){t.target.className=="field".concat(e.size)&&(t.target.style.background="rgba(53, 35, 71, 0.524)")}),!1),t.addEventListener("dragleave",(function(t){t.target.className=="field".concat(e.size)&&(t.target.style.background="")}),!1),t.addEventListener("drop",(function(t){t.target.className=="field".concat(e.size)&&(t.target.style.background=""),t.preventDefault(),t.target.className=="field".concat(e.size)&&e.move(n)}),!1)}},{key:"drawCeilsPic",value:function(e){for(var t=this,n=0,i=function(i){for(var r=function(r){if(i===Math.sqrt(t.size+1)-1&&r===Math.sqrt(t.size+1)-1)return"continue";var o=document.createElement("div");o.classList.add("ceil".concat(t.size)),(s=new Image).addEventListener("load",(function(){})),s.src=t.picture,o.innerHTML=n+1;var a=r%Math.sqrt(t.size+1),c=i%Math.sqrt(t.size+1);t.isLoaded?(o.style.top=t.currentArray.top[n],o.style.left=t.currentArray.left[n]):(o.style.left=a*(1/Math.sqrt(t.size+1)*100)+"%",o.style.top=c*(1/Math.sqrt(t.size+1)*100)+"%"),t.arr.push(o),e.append(o),o.setAttribute("draggable","true"),s.onload=function(){var e=document.createElement("canvas");e.classList.add("canvas");var n=s.width/Math.sqrt(t.size+1),a=s.height/Math.sqrt(t.size+1),c=e.getContext("2d");e.width=o.clientWidth,e.height=o.clientHeight,c.drawImage(s,n*r,a*i,n,a,0,0,o.clientWidth,o.clientHeight),o.append(e),e.style.position="absolute",e.style.opacity=.7},t.isLoaded||(t.arrayStart.left[n]=o.style.left,t.arrayStart.top[n]=o.style.top),n++},o=0;o<Math.sqrt(t.size+1);o++)r(o)},r=0;r<Math.sqrt(this.size+1);r++){var s;i(r)}this.dragNDrop(),this.isLoaded||this.startGame()}},{key:"move",value:function(e){var t=this;if(this.isSound()&&this.playSound("ceilSound"),Math.abs(parseInt(this.empty.top)-parseInt(e.style.top))+Math.abs(parseInt(this.empty.left)-parseInt(e.style.left))<=100/Math.sqrt(this.size)+1){var n=e.style.left,i=e.style.top;e.style.left=this.empty.left,e.style.top=this.empty.top,this.empty.left=n,this.empty.top=i,this.count++,this.changeCount()}for(var r=0;r<this.arr.length;r++)this.currentArray.top[r]=this.arr[r].style.top,this.currentArray.left[r]=this.arr[r].style.left;setTimeout((function(){JSON.stringify(t.currentArray)==JSON.stringify(t.arrayStart)&&(t.paused="",t.winGame())}),250)}},{key:"startGame",value:function(){var e=this;this.newArr=[],this.arr.map((function(t,n){t.style.top=e.arrayStart.top[n],t.style.left=e.arrayStart.left[n]})),this.empty.top=1/Math.sqrt(this.size+1)*(Math.sqrt(this.size+1)-1)*100+"%",this.empty.left=1/Math.sqrt(this.size+1)*(Math.sqrt(this.size+1)-1)*100+"%";for(var t=0;t<this.arr.length;){var n=Math.floor(Math.random()*Math.floor(this.arr.length));this.newArr.includes(n)||(this.newArr.push(n),t++)}for(var i=this.arr.map((function(e){return e.style.top})),r=this.arr.map((function(e){return e.style.left})),s=0;s<this.size;s++)this.arr[s].style.top=i[this.newArr[s]],this.arr[s].style.left=r[this.newArr[s]],this.checkArr[s]=this.newArr.indexOf(s)+1,this.currentArray.top[s]=i[this.newArr[s]],this.currentArray.left[s]=r[this.newArr[s]];this.checking()||(this.arr.map((function(t,n){t.style.top=e.arrayStart.top[n],t.style.left=e.arrayStart.left[n]})),this.empty.top=1/Math.sqrt(this.size+1)*(Math.sqrt(this.size+1)-1)*100+"%",this.empty.left=1/Math.sqrt(this.size+1)*(Math.sqrt(this.size+1)-1)*100+"%",this.startGame())}},{key:"checking",value:function(){for(var e=0,t=0;t<this.checkArr.length;t++){for(var n=0,i=t+1;i<this.checkArr.length;i++)this.checkArr[t]>this.checkArr[i]&&n++;e+=n}return(this.checkArr.length+1)%2==0&&(e+=Math.sqrt(this.checkArr.length+1)),e%2==0}},{key:"winGame",value:function(){var e=this;this.isSound()&&this.playSound("win");var t=document.querySelector(".frame"),n=document.createElement("div");n.classList.add("winPage"),t.append(n);var i=document.createElement("div");i.classList.add("congrat"),i.innerText="Congratulations! You win!",n.append(i);var r=document.createElement("div");r.classList.add("timeWin"),r.innerText="time: ".concat(this.addZero(this.timerMinutes),":").concat(this.addZero(this.timerSeconds)),n.append(r);var s=document.createElement("div");s.classList.add("countWin"),s.innerText="Counts: ".concat(this.count),n.append(s);var o=document.createElement("input");o.setAttribute("type","image"),o.src="./assets/submit.png",o.classList.add("inputButton"),n.append(o),o.addEventListener("click",(function(){e.isSound()&&e.playSound("menuSound2");var t=document.querySelector(".field".concat(e.size));t.style.left="100%";var n=document.querySelector(".winPage");n.style.left="100%";var i=document.querySelector(".time");i.style.left="-100%";var r=document.querySelector(".counter");r.style.left="-100%";var s=document.querySelector(".menu");s.style.display="flex",s.style.top="-100%",s.style.left="0%",localStorage.setItem("score",localStorage.getItem("score")+","+e.count),document.querySelector(".gameMenuButton").remove(),setTimeout((function(){s.style.top="0%",t.remove(),n.remove(),i.remove(),r.remove()}),250)})),setTimeout((function(){n.style.opacity=1}),100)}},{key:"drawRules",value:function(){var e=this,t=document.querySelector(".gameMenu"),n=document.querySelector(".frame"),i=document.createElement("div");i.classList.add("rulesPage"),n.append(i);var r=document.createElement("h3");r.classList.add("rulesHeader"),r.innerText="Инструкции и правила игры:",i.append(r);var s=document.createElement("div");s.classList.add("rulTextInstr"),s.innerHTML='Инструкции пользователя:<br> Добро пожаловать в игру пятнашки. Праила игры вы можете прочесть на этой странице. Для запука новой игры нажмите "New game", далее выберите тип костяшей: числами или картинкой, после необходимо выбрать размер поля. Для упрощенной проверки и ускорения времени проверки было введено поле для игры размеров 2х2. После выбора размеров игры нажмите кнопку "Start". Во время игры вы можете начать новую игру, а также сохранить текущую. Для загрузки текущей игры в главном меню нажмите "Load game". Таблицу результатов вы можете увидеть нажав в главном меню кнопку "Best score". Однако система очков не была полностю проработана. Здесь отображаются лушчие результаты по критерию наименьшего количества перемеений, для всех размеров полей. Для включения и выключения звука в игре в нижнем левом углу предусмотрена кнопка. Игра рассчитана на минимальную ширину экрана в 400 пикселей. <br> ',i.append(s);var o=document.createElement("div");o.classList.add("rulText"),o.innerHTML="Правила игры:<br> Классическое игровое поле представляет собой матрицу 4х4 (5х5, 6х6 и т.д.) клеток, на котором по порядку (слева - направо и сверху - вниз) располагаются цифры, например, от 1 до 15. Последняя клетка – пустая. Клетки перемешиваются определенным образом, и задача игрока состоит в том, чтобы восстановить их первоначальное правильное расположение. Делать это можно лишь путем перемещения на пустую клетку другой, соседней с ней клетки (расположенной слева, справа, сверху или снизу от пустой).",i.append(o);var a=document.createElement("img");a.src="./assets/return.png",a.classList.add("returnToMenu"),i.append(a),setTimeout((function(){i.style.top="0%",t.style.top="-100%",t.style.left="0%"}),100),a.addEventListener("click",(function(){e.isSound()&&e.playSound("menuSound"),i.style.left="100%",setTimeout((function(){t.style.top="0%",i.remove()}),250)}))}},{key:"savingGame",value:function(){localStorage.setItem("puzzle",JSON.stringify(this));var e=document.querySelector(".frame"),t=document.createElement("div");t.classList.add("gameIsSaved"),t.innerText="The game was saved",e.append(t),setTimeout((function(){t.style.opacity="0",setTimeout((function(){t.remove()}),1500)}),1500)}},{key:"endGame",value:function(){document.querySelector(".field".concat(this.size)).style.left="100%",document.querySelector(".winPage").style.left="100%",document.querySelector(".time").style.left="-100%",document.querySelector(".counter").style.left="-100%";var e=document.querySelector(".menu");e.style.display="flex",e.style.top="-100%",e.style.left="0%",document.querySelector(".gameMenuButton").remove()}},{key:"playSound",value:function(e){var t=document.querySelector(".audio");t.src={ceilSound:"assets/sound/ceilsSound.mp3",menuSound:"assets/sound/menuSound.mp3",menuSound2:"assets/sound/menuSound2.mp3",win:"./assets/sound/win.mp3"}[e],t.play()}}])&&e(n.prototype,i),t}(),i=n(379),r=n.n(i),s=n(848);function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}r()(s.Z,{insert:"head",singleton:!1}),s.Z.locals,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,(new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.typeCeils="",this.fieldSize="",this.ceilsPicture="",this.startBody=document.querySelector("body"),this.puzzle="",this.savedGames={},this.isListened=!1,this.soundOn="./assets/soundOn.png",this.soundOff="./assets/soundOff.png",this.sound=!1}var n,i;return n=e,(i=[{key:"createStartPage",value:function(){var e=this,t=document.createElement("div");t.classList.add("frame"),this.startBody.append(t);var n=document.createElement("div");n.classList.add("startPage"),t.append(n);var i=document.createElement("span");i.classList.add("startText"),i.innerText="press click to start",n.append(i),n.addEventListener("click",(function(){e.createMenu()}));var r=document.createElement("audio");r.classList.add("audio"),document.querySelector(".frame").append(r)}},{key:"createMenu",value:function(){var e=this,t=document.querySelector(".startPage");t.style.left="100%",setTimeout((function(){t.remove()}),500);var n=document.createElement("div");n.classList.add("menu");var i=document.createElement("div");i.classList.add("menu_start","item"),i.innerText="New game",n.append(i),i.addEventListener("click",(function(){e.playSound("menuSound2"),e.settingGame()}));var r=document.createElement("div");r.classList.add("menu_load","item"),r.innerText="Load game",n.append(r),r.addEventListener("click",(function(){e.playSound("menuSound2"),e.loadGame()}));var s=document.createElement("div");s.classList.add("menu_score","item"),s.innerText="Best score",n.append(s),s.addEventListener("click",(function(){e.playSound("menuSound2"),e.drawScore()}));var o=document.createElement("div");o.classList.add("menu_rules","item"),o.innerText="Rules",n.append(o),o.addEventListener("click",(function(){e.playSound("menuSound2"),e.drawRules(),n.style.left="100%"}));var a=document.querySelector(".frame");a.append(n),setTimeout((function(){return n.style.top="0.3%"}),50);var c=document.createElement("img");c.src=this.soundOff,c.className="musicOff",c.id="musicOnOff",a.append(c),c.addEventListener("click",(function(){e.sound?c.src=e.soundOff:c.src=e.soundOn,e.sound?c.className="musicOff":c.className="musicOn",e.sound?e.sound=!1:e.sound=!0}))}},{key:"drawScore",value:function(){var e=this,t=localStorage.score.split(",");t.splice(0,1),t.sort((function(e,t){return e-t})),t.splice(10,t.length-1);var n=document.querySelector(".frame"),i=document.createElement("div");i.classList.add("scorePage"),n.append(i),i.innerHTML="<h3> Best results: </h3>";for(var r=0;r<t.length;r++)i.innerHTML+="<span> ".concat(r+1," place: ").concat(t[r]," counts</span>");setTimeout((function(){i.style.opacity="1"}));var s=document.createElement("img");s.classList.add("returnToMenu"),s.src="./assets/return.png",s.setAttribute("title","Return to menu"),i.append(s),s.addEventListener("click",(function(){e.sound&&e.playSound("menuSound2"),i.style.opacity="0",setTimeout((function(){i.remove()}),500)}))}},{key:"settingGame",value:function(){var e=this,t=document.querySelector(".frame"),n=document.createElement("div");n.classList.add("settings"),t.append(n),document.querySelector(".menu").style.left="100%",setTimeout((function(){n.style.top="0.3%",document.querySelector(".menu").style.display="none"}),300);var i=document.createElement("img");i.classList.add("returnToMenu"),i.src="./assets/return.png",i.setAttribute("title","Return to menu"),n.append(i),i.addEventListener("click",(function(){e.playSound("menuSound2"),n.style.top="-100%",setTimeout((function(){n.remove(),document.querySelector(".menu").style.left="0%"}),300),document.querySelector(".menu").style.display="flex"}));var r=document.createElement("div");r.classList.add("typeSection"),n.append(r);var s=document.createElement("h3");s.classList.add("headTypeSection","headings"),s.innerText="Choose type of dices:",r.append(s);var o=document.createElement("div");o.classList.add("typeOfDices"),r.append(o),o.addEventListener("click",(function(){e.playSound("menuSound2"),o.style.border="1px solid white",o.style.borderRadius="10px",d.style.border="none",e.typeCeils="numbers"}));var a=document.createElement("span");a.classList.add("typeName","typeNameDices1"),a.innerText="numbers",o.append(a);var c=document.createElement("img");c.classList.add("typeImage","typeImageDices1"),c.src="./assets/numType.png",c.style.height="100%",o.append(c);var d=document.createElement("div");d.classList.add("typeOfDices","typeOfDices2"),r.append(d),d.addEventListener("click",(function(){e.playSound("menuSound2"),d.style.border="1px solid white",d.style.borderRadius="10px",o.style.border="none",e.typeCeils="pictures",e.pictureTypeCeils(),""!==e.fieldSize&&y.removeAttribute("disabled")}));var l=document.createElement("span");l.classList.add("typeName","typeNameDices2"),l.innerText="pictures",d.append(l);var u=document.createElement("img");u.classList.add("typeImage","typeImageDices2"),u.src="./assets/pic1.png",d.append(u);var p=document.createElement("div");p.classList.add("sizeSection"),n.append(p),p.addEventListener("click",(function(t){e.playSound("menuSound2"),t.target.classList.contains("sizeField")&&(document.querySelectorAll(".sizeField").forEach((function(e){e.style.border="none",e.style.color="white"})),t.target.style.border="2px solid red",t.target.style.borderRadius="20px",e.fieldSize=t.target.id*t.target.id-1,""!==e.typeCeils&&y.removeAttribute("disabled"))}));var m=document.createElement("span");m.classList.add("sizeName"),m.innerText="Choose the size of game field:",p.append(m);for(var f=0;f<7;f++){var h=document.createElement("div");h.classList.add("sizeField".concat(f+2,"x").concat(f+2),"sizeField"),h.innerText="".concat(f+2,"x").concat(f+2),h.id=f+2,h.style.top=40+30*f+"px",p.append(h)}var y=document.createElement("button");y.classList.add("startButton"),y.type="button",y.setAttribute("disabled","disabled"),y.innerText="START",n.append(y),y.addEventListener("click",(function(){e.playSound("menuSound");var t=document.querySelector(".settings");t.style.left="100%",setTimeout((function(){t.remove()}),100),e.startGame()}))}},{key:"pictureTypeCeils",value:function(){var e=this,t=document.querySelector(".settings"),n=document.createElement("div");n.classList.add("modalWindow"),t.append(n);var i=document.createElement("h3");i.classList.add("header"),i.innerText="Choose the picture:",n.append(i);var r=document.createElement("div");r.classList.add("frameSlider"),n.append(r);var s=document.createElement("img"),o=document.createElement("div"),a=document.createElement("div"),c=document.createElement("img");s.classList.add("leftArrow"),o.classList.add("currentPicture"),a.classList.add("nextPicture"),c.classList.add("rightArrow"),s.src="./assets/arrowLeft.png",c.src="./assets/arrowRight.png",r.append(s),r.append(o),r.append(c),r.append(a);var d=document.createElement("button");d.setAttribute("type","button"),d.classList.add("exitButton"),d.innerText="Cancel",n.append(d);var l=document.createElement("button");l.setAttribute("type","button"),l.classList.add("confirmButton"),l.innerText="Оk",n.append(l);var u=document.createElement("img");u.classList.add("imageSlider"),u.src="./assets/pic1.png",o.append(u);var p=document.createElement("img");p.classList.add("imageSlider"),p.src="./assets/pic2.png",o.append(p);var m=document.createElement("img");m.classList.add("imageSlider"),m.src="./assets/pic3.png",o.append(m);var f=document.createElement("img");f.classList.add("imageSlider"),f.src="./assets/pic4.png",o.append(f),setTimeout((function(){n.style.opacity="1",n.style.width="101%",n.style.height="101%",n.style.top="0",n.style.right="0",d.style.display="flex",d.style.opacity="1",l.style.display="flex",l.style.opacity="1",i.style.display="flex",i.style.opacity="1",s.style.display="flex",c.style.display="flex",s.style.opacity="1",c.style.opacity="1"})),this.slider(),d.addEventListener("click",(function(){e.playSound("menuSound"),e.closeModal(n)}))}},{key:"slider",value:function(){for(var e=this,t=document.querySelectorAll(".imageSlider"),n=0;n<t.length;n++)t[n].style.left=100*n+"%";var i=document.querySelector(".rightArrow"),r=document.querySelector(".leftArrow"),s=document.querySelector(".modalWindow"),o=t[0];i.addEventListener("click",(function(){if(e.playSound("menuSound2"),parseInt(t[0].style.left)>-300)for(var n=0;n<t.length;n++)t[n].style.left=parseInt(t[n].style.left)-100+"%","0%"===t[n].style.left&&(o=t[n])})),r.addEventListener("click",(function(){if(e.playSound("menuSound2"),parseInt(t[0].style.left)<0)for(var n=0;n<t.length;n++)t[n].style.left=parseInt(t[n].style.left)+100+"%","0%"===t[n].style.left&&(o=t[n])}));var a=document.querySelector(".confirmButton"),c=document.querySelector(".typeImageDices2");a.addEventListener("click",(function(){e.playSound("menuSound"),e.ceilsPicture=o,c.src=o.src,e.closeModal(s)}))}},{key:"closeModal",value:function(e){e.style.left="100%",setTimeout((function(){e.remove()}),250)}},{key:"startGame",value:function(){this.puzzle=new t(this.fieldSize,this.ceilsPicture.src,this.typeCeils),this.isListened=!1,this.puzzle.paused=!1,this.puzzle.createField()}},{key:"drawRules",value:function(){var e=this,t=document.querySelector(".menu"),n=document.querySelector(".frame"),i=document.createElement("div");i.classList.add("rulesPage"),n.append(i);var r=document.createElement("h3");r.classList.add("rulesHeader"),r.innerText="Инструкции и правила игры:",i.append(r);var s=document.createElement("div");s.classList.add("rulTextInstr"),s.innerHTML='Инструкции пользователя:<br> Добро пожаловать в игру пятнашки. Праила игры вы можете прочесть на этой странице. Для запука новой игры нажмите "New game", далее выберите тип костяшей: числами или картинкой, после необходимо выбрать размер поля. Для упрощенной проверки и ускорения времени проверки было введено поле для игры размеров 2х2. После выбора размеров игры нажмите кнопку "Start". Во время игры вы можете начать новую игру, а также сохранить текущую. Для загрузки текущей игры в главном меню нажмите "Load game". Таблицу результатов вы можете увидеть нажав в главном меню кнопку "Best score". Однако система очков не была полностю проработана. Здесь отображаются лушчие результаты по критерию наименьшего количества перемеений, для всех размеров полей. Для включения и выключения звука в игре в нижнем левом углу предусмотрена кнопка. Игра рассчитана на минимальную ширину экрана в 400 пикселей. <br> ',i.append(s);var o=document.createElement("div");o.classList.add("rulText"),o.innerHTML="Правила игры:<br> Классическое игровое поле представляет собой матрицу 4х4 (5х5, 6х6 и т.д.) клеток, на котором по порядку (слева - направо и сверху - вниз) располагаются цифры, например, от 1 до 15. Последняя клетка – пустая. Клетки перемешиваются определенным образом, и задача игрока состоит в том, чтобы восстановить их первоначальное правильное расположение. Делать это можно лишь путем перемещения на пустую клетку другой, соседней с ней клетки (расположенной слева, справа, сверху или снизу от пустой).",i.append(o);var a=document.createElement("img");a.src="./assets/return.png",a.classList.add("returnToMenu"),i.append(a),setTimeout((function(){i.style.top="0%"}),100),a.addEventListener("click",(function(){e.playSound("menuSound2"),t.style.top="-100%",t.style.left="0%",i.style.left="100%",a.classList.add("menuFromRules"),setTimeout((function(){a.classList.contains("menuFromRules")&&(t.style.top="0%"),i.remove()}),250)}))}},{key:"loadGame",value:function(){var e=JSON.parse(localStorage.puzzle);this.puzzle=new t(e.size,e.picture,e.type),this.puzzle.arrayStart=e.arrayStart,this.puzzle.checkArr=e.checkArr,this.puzzle.empty=e.empty,this.puzzle.timerMinutes=e.timerMinutes,this.puzzle.timerSeconds=e.timerSeconds,this.puzzle.count=e.count,this.puzzle.currentArray=e.currentArray,this.puzzle.newArr=e.newArr,this.puzzle.isLoaded=!0,this.puzzle.createField()}},{key:"playSound",value:function(e){var t=document.querySelector(".audio");t.src={ceilSound:"./assets/sound/ceilsSound.mp3",menuSound:"./assets/sound/menuSound.mp3",menuSound2:"./assets/sound/menuSound2.mp3",win:"./assets/sound/win.mp3"}[e],this.sound&&t.play()}}])&&o(n.prototype,i),e}())).createStartPage()})()})();